div(ng-include='"components/navbar/navbar.html"')
.col-md-12
    form.form(name='form', stripe-form='charge', novalidate='')

      .form-group(ng-class='{ "has-success": form.number.$valid && submitted,\
        "has-error": form.number.$invalid && submitted }')
          label Card Number
          input.form-control(type='text', name='number', ng-model='number', placeholder="Card Number", required='')
          p.help-block(ng-show='form.number.$error.required && submitted')
            | A number is required

      .form-group(ng-class='{ "has-success": form.expiry.$valid && submitted,\
        "has-error": form.expiry.$invalid && submitted }')
          label Expiration Date (MM/YY)
          input.form-control(type='text', name='expiry', ng-model='expiry', placeholder="Expiration Date", required='')
          p.help-block(ng-show='form.expiry.$error.required && submitted')
            | An expiration date is required

      // TODO: validate 3 digits only
      .form-group(ng-class='{ "has-success": form.cvc.$valid && submitted,\
        "has-error": form.cvc.$invalid && submitted }')
          label CVC (3 Digit Code)
          input.form-control(type='text', name='cvc', ng-model='cvc', placeholder="CVC", required='')
          p.help-block(ng-show='form.cvc.$error.required && submitted')
            | A cvc is required

      .form-group(ng-class='{ "has-success": form.amount.$valid && submitted,\
        "has-error": form.amount.$invalid && submitted }')
          label Amount
          p
            | ${{checkout.amount}}

      // TODO: does not need billing address... interestingly, but should be optional
      // TODO: should add shipping address here too.

      div
        button.btn.btn-inverse.btn-lg.btn-login(type='submit')
          | Submit

      {{checkout.err}}
      {{checkout.result}}